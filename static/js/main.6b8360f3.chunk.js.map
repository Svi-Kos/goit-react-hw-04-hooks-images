{"version":3,"sources":["components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.jsx","services/apiSevice.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleSearchQuery","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","api","fetchImages","query","page","url","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","webformatURL","largeImageURL","tags","src","alt","ImageGalleryItemImage","onClick","basicLightbox","show","Button","centered","onLoadMore","ImageGallery","images","error","status","prevProps","prevState","selfSearchQuery","selfStatePage","loadImagesByQuery","imageAPI","newImages","hits","length","alert","catch","window","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","style","textAlign","message","map","id","App","handleFormSubmit","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6b8360f3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2sv3i\",\"centered\":\"Button_centered__1bqFe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__tWf-v\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__1nXk8\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__a3R3b\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from 'components/Searchbar/Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleSearchQuery = event => {\n    this.setState({ searchQuery: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.searchQuery.trim() === '') {\n      return;\n    }\n\n    this.props.onSubmit(this.state.searchQuery);\n\n    this.setState({ searchQuery: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.handleSearchQuery}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","function fetchImages(query, page) {\n  const url = `https://pixabay.com/api/?q=${query}&page=${page}&key=18966198-cc77d794ba7550ec695901208&image_type=photo&orientation=horizontal&per_page=12`;\n  const errorMessage = 'Please enter more specific query';\n\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(errorMessage));\n  });\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import s from '../ImageGalleryItem/ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\nimport * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\nfunction ImageGalleryItem({ webformatURL, largeImageURL, tags }) {\n  function showLargeImage() {\n    const instance = basicLightbox.create(`\n        <img src=\"${largeImageURL}\" alt=\"${tags}\" width=\"800\" height=\"600\">\n    `);\n\n    instance.show();\n  }\n\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s.ImageGalleryItemImage}\n        onClick={showLargeImage}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import s from '../Button/Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = props => (\n  <div className={s.centered}>\n    <button type=\"button\" className={s.Button} onClick={props.onLoadMore}>\n      Load More\n    </button>\n  </div>\n);\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport imageAPI from '../../services/apiSevice';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from '../ImageGallery/ImageGallery.module.css';\nimport PropTypes from 'prop-types';\n\nclass ImageGallery extends Component {\n  state = {\n    images: [],\n    error: null,\n    status: 'idle',\n    page: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const selfSearchQuery = this.props.searchQuery;\n    const selfStatePage = this.state.page;\n    const errorMessage = 'Please enter more specific query';\n\n    const loadImagesByQuery = (selfSearchQuery, selfStatePage) => {\n      imageAPI\n        .fetchImages(selfSearchQuery, selfStatePage)\n        .then(newImages => {\n          this.setState({\n            images: [...prevState.images, ...newImages.hits],\n            status: 'resolved',\n          });\n          if (newImages.length === 0) {\n            alert(errorMessage);\n          }\n        })\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    };\n\n    if (selfStatePage > 1 && this.state.images !== prevProps.images) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n\n    if (prevProps.searchQuery !== selfSearchQuery) {\n      prevState.images = [];\n      this.setState({ images: [], status: 'pending', page: 1 });\n\n      loadImagesByQuery(selfSearchQuery, selfStatePage);\n    }\n\n    if (prevState.page !== selfStatePage) {\n      // this.setState({ status: 'pending' });\n\n      loadImagesByQuery(selfSearchQuery, selfStatePage);\n    }\n  }\n\n  onLoadMore = () => {\n    this.setState(({ page }) => ({\n      page: page + 1,\n      status: 'resolved',\n    }));\n  };\n\n  render() {\n    const { images, error, status } = this.state;\n    return (\n      <>\n        {status === 'pending' && (\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#303f9f\"\n            height={80}\n            width={80}\n            style={{ textAlign: 'center' }}\n          />\n        )}{' '}\n        {status === 'rejected' && <p>{error.message}</p>}{' '}\n        {status === 'resolved' && (\n          <>\n            <ul className={s.ImageGallery}>\n              {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n                <ImageGalleryItem\n                  key={id}\n                  webformatURL={webformatURL}\n                  largeImageURL={largeImageURL}\n                  tags={tags}\n                />\n              ))}\n            </ul>\n            <Button onLoadMore={this.onLoadMore} />\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  searchQuery: PropTypes.string.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleFormSubmit = searchQuery => {\n    this.setState({ searchQuery });\n  };\n\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery searchQuery={this.state.searchQuery} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2k2tk\",\"SearchForm\":\"Searchbar_SearchForm__14SDX\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2Zw-e\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2nYnU\",\"SearchFormInput\":\"Searchbar_SearchFormInput__Ij7kO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1jcIu\"};"],"sourceRoot":""}